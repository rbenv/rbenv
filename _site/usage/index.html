<!DOCTYPE html>
<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
      <link rel="stylesheet" href="/css/styles.css">
    </head>
    <body>
 
<nav class="red">
  <div class="nav-wrapper">
    <div class="container">
      <a href="/index/" class="brand-logo">rbenv</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="/usage/">Usage</a></li>
        <li><a href="/docs/">Docs</a></li>
        <li><a href="/quick-start/">Quick Start</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
     <h3 id="table-of-contents">Table of Contents</h3>

<ul>
  <li><a href="#how-it-works">How It Works</a>
    <ul>
      <li><a href="#understanding-path">Understanding PATH</a></li>
      <li><a href="#understanding-shims">Understanding Shims</a></li>
      <li><a href="#choosing-the-ruby-version">Choosing the Ruby Version</a></li>
      <li><a href="#locating-the-ruby-installation">Locating the Ruby Installation</a></li>
    </ul>
  </li>
  <li><a href="#installation">Installation</a>
    <ul>
      <li><a href="#basic-github-checkout">Basic GitHub Checkout</a>
        <ul>
          <li><a href="#upgrading">Upgrading</a></li>
        </ul>
      </li>
      <li><a href="#homebrew-on-mac-os-x">Homebrew on Mac OS X</a></li>
      <li><a href="#how-rbenv-hooks-into-your-shell">How rbenv hooks into your shell</a></li>
      <li><a href="#installing-ruby-versions">Installing Ruby versions</a>
        <ul>
          <li><a href="#installing-ruby-gems">Installing Ruby gems</a></li>
        </ul>
      </li>
      <li><a href="#uninstalling-ruby-versions">Uninstalling Ruby versions</a></li>
      <li><a href="#uninstalling-rbenv">Uninstalling rbenv</a></li>
    </ul>
  </li>
  <li><a href="#environment-variables">Environment variables</a></li>
</ul>

<h3 id="how-it-works">How It Works</h3>

<p>At a high level, rbenv intercepts Ruby commands using shim
executables injected into your <code class="highlighter-rouge">PATH</code>, determines which Ruby version
has been specified by your application, and passes your commands along
to the correct Ruby installation.</p>

<h5 id="understanding-path">Understanding PATH</h5>

<p>When you run a command like <code class="highlighter-rouge">ruby</code> or <code class="highlighter-rouge">rake</code>, your operating system
searches through a list of directories to find an executable file with
that name. This list of directories lives in an environment variable
called <code class="highlighter-rouge">PATH</code>, with each directory in the list separated by a colon:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/usr/local/bin:/usr/bin:/bin
</code></pre>
</div>

<p>Directories in <code class="highlighter-rouge">PATH</code> are searched from left to right, so a matching
executable in a directory at the beginning of the list takes
precedence over another one at the end. In this example, the
<code class="highlighter-rouge">/usr/local/bin</code> directory will be searched first, then <code class="highlighter-rouge">/usr/bin</code>,
then <code class="highlighter-rouge">/bin</code>.</p>

<h5 id="understanding-shims">Understanding Shims</h5>

<p>rbenv works by inserting a directory of <em>shims</em> at the front of your
<code class="highlighter-rouge">PATH</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~/.rbenv/shims:/usr/local/bin:/usr/bin:/bin
</code></pre>
</div>

<p>Through a process called <em>rehashing</em>, rbenv maintains shims in that
directory to match every Ruby command across every installed version
of Ruby—<code class="highlighter-rouge">irb</code>, <code class="highlighter-rouge">gem</code>, <code class="highlighter-rouge">rake</code>, <code class="highlighter-rouge">rails</code>, <code class="highlighter-rouge">ruby</code>, and so on.</p>

<p>Shims are lightweight executables that simply pass your command along
to rbenv. So with rbenv installed, when you run, say, <code class="highlighter-rouge">rake</code>, your
operating system will do the following:</p>

<ul>
  <li>Search your <code class="highlighter-rouge">PATH</code> for an executable file named <code class="highlighter-rouge">rake</code></li>
  <li>Find the rbenv shim named <code class="highlighter-rouge">rake</code> at the beginning of your <code class="highlighter-rouge">PATH</code></li>
  <li>Run the shim named <code class="highlighter-rouge">rake</code>, which in turn passes the command along to
rbenv</li>
</ul>

<h5 id="choosing-the-ruby-version">Choosing the Ruby Version</h5>

<p>When you execute a shim, rbenv determines which Ruby version to use by
reading it from the following sources, in this order:</p>

<ol>
  <li>
    <p>The <code class="highlighter-rouge">RBENV_VERSION</code> environment variable, if specified. You can use
the <a href="#rbenv-shell"><code class="highlighter-rouge">rbenv shell</code></a> command to set this environment
variable in your current shell session.</p>
  </li>
  <li>
    <p>The first <code class="highlighter-rouge">.ruby-version</code> file found by searching the directory of the
script you are executing and each of its parent directories until reaching
the root of your filesystem.</p>
  </li>
  <li>
    <p>The first <code class="highlighter-rouge">.ruby-version</code> file found by searching the current working
directory and each of its parent directories until reaching the root of your
filesystem. You can modify the <code class="highlighter-rouge">.ruby-version</code> file in the current working
directory with the <a href="#rbenv-local"><code class="highlighter-rouge">rbenv local</code></a> command.</p>
  </li>
  <li>
    <p>The global <code class="highlighter-rouge">~/.rbenv/version</code> file. You can modify this file using
the <a href="#rbenv-global"><code class="highlighter-rouge">rbenv global</code></a> command. If the global version
file is not present, rbenv assumes you want to use the “system”
Ruby—i.e. whatever version would be run if rbenv weren’t in your
path.</p>
  </li>
</ol>

<h5 id="locating-the-ruby-installation">Locating the Ruby Installation</h5>

<p>Once rbenv has determined which version of Ruby your application has
specified, it passes the command along to the corresponding Ruby
installation.</p>

<p>Each Ruby version is installed into its own directory under
<code class="highlighter-rouge">~/.rbenv/versions</code>. For example, you might have these versions
installed:</p>

<ul>
  <li><code class="highlighter-rouge">~/.rbenv/versions/1.8.7-p371/</code></li>
  <li><code class="highlighter-rouge">~/.rbenv/versions/1.9.3-p327/</code></li>
  <li><code class="highlighter-rouge">~/.rbenv/versions/jruby-1.7.1/</code></li>
</ul>

<p>Version names to rbenv are simply the names of the directories in
<code class="highlighter-rouge">~/.rbenv/versions</code>.</p>

<h3 id="installation">Installation</h3>

<p><strong>Compatibility note</strong>: rbenv is <em>incompatible</em> with RVM. Please make
  sure to fully uninstall RVM and remove any references to it from
  your shell initialization files before installing rbenv.</p>

<p>If you’re on Mac OS X, consider
<a href="#homebrew-on-mac-os-x">installing with Homebrew</a>.</p>

<h5 id="basic-github-checkout">Basic GitHub Checkout</h5>

<p>This will get you going with the latest version of rbenv and make it
easy to fork and contribute any changes back upstream.</p>

<ol>
  <li>
    <p>Check out rbenv into <code class="highlighter-rouge">~/.rbenv</code>.</p>

    <div class="language-sh highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>git clone https://github.com/rbenv/rbenv.git ~/.rbenv
</code></pre>
    </div>

    <p>Optionally, try to compile dynamic bash extension to speed up rbenv. Don’t
 worry if it fails; rbenv will still work normally:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> $ cd ~/.rbenv &amp;&amp; src/configure &amp;&amp; make -C src
</code></pre>
    </div>
  </li>
  <li>
    <p>Add <code class="highlighter-rouge">~/.rbenv/bin</code> to your <code class="highlighter-rouge">$PATH</code> for access to the <code class="highlighter-rouge">rbenv</code>
command-line utility.</p>

    <div class="language-sh highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'export PATH="$HOME/.rbenv/bin:$PATH"'</span> &gt;&gt; ~/.bash_profile
</code></pre>
    </div>

    <p><strong>Ubuntu Desktop note</strong>: Modify your <code class="highlighter-rouge">~/.bashrc</code> instead of <code class="highlighter-rouge">~/.bash_profile</code>.</p>

    <p><strong>Zsh note</strong>: Modify your <code class="highlighter-rouge">~/.zshrc</code> file instead of <code class="highlighter-rouge">~/.bash_profile</code>.</p>
  </li>
  <li>
    <p>Run <code class="highlighter-rouge">~/.rbenv/bin/rbenv init</code> for shell-specific instructions on how to
initialize rbenv to enable shims and autocompletion.</p>
  </li>
  <li>
    <p>Restart your shell so that PATH changes take effect. (Opening a new
terminal tab will usually do it.) Now check if rbenv was set up:</p>

    <div class="language-sh highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">type </span>rbenv
 <span class="c">#=&gt; "rbenv is a function"</span>
</code></pre>
    </div>
  </li>
  <li>
    <p><em>(Optional)</em> Install <a href="https://github.com/rbenv/ruby-build#readme">ruby-build</a>, which provides the
<code class="highlighter-rouge">rbenv install</code> command that simplifies the process of
<a href="#installing-ruby-versions">installing new Ruby versions</a>.</p>
  </li>
</ol>

<h5 id="upgrading">Upgrading</h5>

<p>If you’ve installed rbenv manually using git, you can upgrade your
installation to the cutting-edge version at any time.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> ~/.rbenv
<span class="gp">$ </span>git pull
</code></pre>
</div>

<p>To use a specific release of rbenv, check out the corresponding tag:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> ~/.rbenv
<span class="gp">$ </span>git fetch
<span class="gp">$ </span>git checkout v0.3.0
</code></pre>
</div>

<p>If you’ve <a href="#homebrew-on-mac-os-x">installed via Homebrew</a>, then upgrade
via its <code class="highlighter-rouge">brew</code> command:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>brew update
<span class="gp">$ </span>brew upgrade rbenv ruby-build
</code></pre>
</div>

<h5 id="homebrew-on-mac-os-x">Homebrew on Mac OS X</h5>

<p>As an alternative to installation via GitHub checkout, you can install
rbenv and <a href="https://github.com/rbenv/ruby-build#readme">ruby-build</a> using the <a href="http://brew.sh">Homebrew</a> package
manager on Mac OS X:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ brew update
$ brew install rbenv
$ rbenv init
</code></pre>
</div>

<p>You’ll only ever have to run <code class="highlighter-rouge">rbenv init</code> once.</p>

<h5 id="how-rbenv-hooks-into-your-shell">How rbenv hooks into your shell</h5>

<p>Skip this section unless you must know what every line in your shell
profile is doing.</p>

<p><code class="highlighter-rouge">rbenv init</code> is the only command that crosses the line of loading
extra commands into your shell. Coming from RVM, some of you might be
opposed to this idea. Here’s what <code class="highlighter-rouge">rbenv init</code> actually does:</p>

<ol>
  <li>
    <p>Sets up your shims path. This is the only requirement for rbenv to
function properly. You can do this by hand by prepending
<code class="highlighter-rouge">~/.rbenv/shims</code> to your <code class="highlighter-rouge">$PATH</code>.</p>
  </li>
  <li>
    <p>Installs autocompletion. This is entirely optional but pretty
useful. Sourcing <code class="highlighter-rouge">~/.rbenv/completions/rbenv.bash</code> will set that
up. There is also a <code class="highlighter-rouge">~/.rbenv/completions/rbenv.zsh</code> for Zsh
users.</p>
  </li>
  <li>
    <p>Rehashes shims. From time to time you’ll need to rebuild your
shim files. Doing this automatically makes sure everything is up to
date. You can always run <code class="highlighter-rouge">rbenv rehash</code> manually.</p>
  </li>
  <li>
    <p>Installs the sh dispatcher. This bit is also optional, but allows
rbenv and plugins to change variables in your current shell, making
commands like <code class="highlighter-rouge">rbenv shell</code> possible. The sh dispatcher doesn’t do
anything crazy like override <code class="highlighter-rouge">cd</code> or hack your shell prompt, but if
for some reason you need <code class="highlighter-rouge">rbenv</code> to be a real script rather than a
shell function, you can safely skip it.</p>
  </li>
</ol>

<p>Run <code class="highlighter-rouge">rbenv init -</code> for yourself to see exactly what happens under the
hood.</p>

<h5 id="installing-ruby-versions">Installing Ruby versions</h5>

<p>The <code class="highlighter-rouge">rbenv install</code> command doesn’t ship with rbenv out of the box, but
is provided by the <a href="https://github.com/rbenv/ruby-build#readme">ruby-build</a> project. If you installed it either
as part of GitHub checkout process outlined above or via Homebrew, you
should be able to:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="c"># list all available versions:</span>
<span class="gp">$ </span>rbenv install -l

<span class="c"># install a Ruby version:</span>
<span class="gp">$ </span>rbenv install 2.0.0-p247
</code></pre>
</div>

<p>Alternatively to the <code class="highlighter-rouge">install</code> command, you can download and compile
Ruby manually as a subdirectory of <code class="highlighter-rouge">~/.rbenv/versions/</code>. An entry in
that directory can also be a symlink to a Ruby version installed
elsewhere on the filesystem. rbenv doesn’t care; it will simply treat
any entry in the <code class="highlighter-rouge">versions/</code> directory as a separate Ruby version.</p>

<h5 id="installing-ruby-gems">Installing Ruby gems</h5>

<p>Once you’ve installed some Ruby versions, you’ll want to install gems.
First, ensure that the target version for your project is the one you want by
checking <code class="highlighter-rouge">rbenv version</code> (see <a href="#command-reference">Command Reference</a>). Select
another version using <code class="highlighter-rouge">rbenv local 2.0.0-p247</code>, for example. Then, proceed to
install gems as you normally would:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>gem install bundler
</code></pre>
</div>

<p><strong>You don’t need sudo</strong> to install gems. Typically, the Ruby versions will be
installed and writeable by your user. No extra privileges are required to
install gems.</p>

<p>Check the location where gems are being installed with <code class="highlighter-rouge">gem env</code>:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>gem env home
<span class="c"># =&gt; ~/.rbenv/versions/&lt;ruby-version&gt;/lib/ruby/gems/...</span>
</code></pre>
</div>

<h5 id="uninstalling-ruby-versions">Uninstalling Ruby versions</h5>

<p>As time goes on, Ruby versions you install will accumulate in your
<code class="highlighter-rouge">~/.rbenv/versions</code> directory.</p>

<p>To remove old Ruby versions, simply <code class="highlighter-rouge">rm -rf</code> the directory of the
version you want to remove. You can find the directory of a particular
Ruby version with the <code class="highlighter-rouge">rbenv prefix</code> command, e.g. <code class="highlighter-rouge">rbenv prefix
1.8.7-p357</code>.</p>

<p>The <a href="https://github.com/rbenv/ruby-build#readme">ruby-build</a> plugin provides an <code class="highlighter-rouge">rbenv uninstall</code> command to
automate the removal process.</p>

<h5 id="uninstalling-rbenv">Uninstalling rbenv</h5>

<p>The simplicity of rbenv makes it easy to temporarily disable it, or
uninstall from the system.</p>

<ol>
  <li>To <strong>disable</strong> rbenv managing your Ruby versions, simply remove the
  <code class="highlighter-rouge">rbenv init</code> line from your shell startup configuration. This will
  remove rbenv shims directory from PATH, and future invocations like
  <code class="highlighter-rouge">ruby</code> will execute the system Ruby version, as before rbenv.</li>
</ol>

<p><code class="highlighter-rouge">rbenv</code> will still be accessible on the command line, but your Ruby
  apps won’t be affected by version switching.</p>

<ol>
  <li>
    <p>To completely <strong>uninstall</strong> rbenv, perform step (1) and then remove
its root directory. This will <strong>delete all Ruby versions</strong> that were
installed under <code class="highlighter-rouge">`rbenv root`/versions/</code> directory:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> rm -rf `rbenv root`
</code></pre>
    </div>

    <p>If you’ve installed rbenv using a package manager, as a final step
perform the rbenv package removal. For instance, for Homebrew:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> brew uninstall rbenv
</code></pre>
    </div>
  </li>
</ol>

<h3 id="development">Development</h3>

<p>The rbenv source code is <a href="https://github.com/rbenv/rbenv">hosted on
GitHub</a>. It’s clean, modular,
and easy to understand, even if you’re not a shell hacker.</p>

<p>Tests are executed using <a href="https://github.com/sstephenson/bats">Bats</a>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ bats test
$ bats test/&lt;file&gt;.bats
</code></pre>
</div>

<p>Please feel free to submit pull requests and file bugs on the <a href="https://github.com/rbenv/rbenv/issues">issue
tracker</a>.</p>

<h5 id="environment-variables">Environment variables</h5>

<p>You can affect how rbenv operates with the following settings:</p>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>default</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">RBENV_VERSION</code></td>
      <td> </td>
      <td>Specifies the Ruby version to be used.<br />Also see <a href="#rbenv-shell"><code class="highlighter-rouge">rbenv shell</code></a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RBENV_ROOT</code></td>
      <td><code class="highlighter-rouge">~/.rbenv</code></td>
      <td>Defines the directory under which Ruby versions and shims reside.<br />Also see <code class="highlighter-rouge">rbenv root</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RBENV_DEBUG</code></td>
      <td> </td>
      <td>Outputs debug information.<br />Also as: <code class="highlighter-rouge">rbenv --debug &lt;subcommand&gt;</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RBENV_HOOK_PATH</code></td>
      <td><a href="https://github.com/rbenv/rbenv/wiki/Authoring-plugins#rbenv-hooks"><em>see wiki</em></a></td>
      <td>Colon-separated list of paths searched for rbenv hooks.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">RBENV_DIR</code></td>
      <td><code class="highlighter-rouge">$PWD</code></td>
      <td>Directory to start searching for <code class="highlighter-rouge">.ruby-version</code> files.</td>
    </tr>
  </tbody>
</table>
 
</div>
 
    <footer class="page-footer red">
      <div class="container">
        <div class="row">
          <div class="col l6 s12">
            <h5 class="white-text"> rbenv </h5>
            <p class="grey-text text-lighten-4"> Groom your app’s Ruby environment with rbenv. Use rbenv to pick a Ruby version  for your application and guarantee that your development environment matches  production. Put rbenv to work with Bundler for painless  Ruby upgrades and bulletproof deployments.
 </p>
          </div>
          <div class="col l4 offset-l2 s12">
            <h5 class="white-text">Links</h5>
            <ul>
              <li><a class="grey-text text-lighten-3" href="https://github.com/rbenv/rbenv/issues">Submit an Issue</a></li>
              <li><a class="grey-text text-lighten-3" href="https://github.com/rbenv/rbenv">View on GitHub</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">
        © 2017 Copyright  | All rights reserved.
        </div>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
  </body>
</html>